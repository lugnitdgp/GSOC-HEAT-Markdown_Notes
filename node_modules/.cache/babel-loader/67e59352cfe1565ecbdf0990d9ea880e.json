{"ast":null,"code":"var _jsxFileName = \"/home/komal/GSOC_Markdown_Editor/src/Components/TextForm.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState, useEffect } from 'react';\nimport { Remarkable } from 'remarkable';\nimport { db } from './fire';\nimport { collection, addDoc, getDocs, updateDoc, doc } from 'firebase/firestore';\nimport styled from 'styled-components';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Info = styled.div`\n  width: 100%;\n  color: black;\n  height: 1.2em;\n  font-weight: 700;\n  padding: 5px;\n  background-color: #fff;\n  text-align: end;\n  color: #a334cc;\n  font-family: roboto;\n  font-size: 15px;\n  margin-top: 60px;\n  margin-bottom: 0px;\n  \n  `;\n_c = Info;\nconst initialState = `\n  # Heading1\n  ## Heading2\n  - list item 1\n  - list item 2\n  - list item 3\n  \n  \n  [Visit GLUG Official website](https://nitdgplug.org/)\n\n  ### block of code\n  \\`\\`\\`\n  let x= 1;\n  let y= 2;\n  \\`\\`\\`\n  ***\n  *Welcome*\n  ![GLUG](https://img1.pnghut.com/t/25/23/10/AyxZpuifSG/penguin-ducks-geese-and-swans-linux-logical-volume-manager-flightless-bird.jpg)\n  \n  `;\nconst md = new Remarkable();\n\nfunction TextForm(props) {\n  _s();\n\n  const {\n    handleLogout\n  } = props;\n  const [text, setText] = useState(initialState);\n  const [documents, setDocuments] = useState(\"\");\n  const userCollectionRef = collection(db, \"documents\");\n\n  const handleTextChange = e => {\n    setText(e.target.value);\n  };\n\n  useEffect(() => {\n    const formData = localStorage.getItem(\"my-form-value1\");\n\n    if (formData) {\n      setText(JSON.parse(formData));\n    }\n  }, []);\n  useEffect(() => {\n    localStorage.setItem(\"my-form-value1\", JSON.stringify(text));\n  });\n  useEffect(() => {\n    const getText = async () => {\n      const data = await getDocs(userCollectionRef);\n      setDocuments(data.docs.map(doc => ({ ...doc.data(),\n        id: doc.id\n      })));\n    };\n\n    getText();\n  }, []);\n\n  const saveToDb = async () => {\n    await addDoc(userCollectionRef, {\n      file: text\n    });\n  };\n\n  const updateDocument = async id => {\n    const userDoc = doc(db, \"documents\", id);\n    const newFields = {\n      value: text\n    };\n    await updateDoc(userDoc, newFields);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"entity\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"headertext\",\n          children: \"Markdown \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"button1\",\n          onClick: handleLogout,\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"save\",\n          onClick: saveToDb,\n          children: \"Save \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 7\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"update\",\n          onClick: () => {\n            updateDocument(doc.id);\n          },\n          children: \"Update\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 7\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(Info, {\n        children: [text.split(\" \").filter(element => {\n          return element.length !== 0;\n        }).length, \" words \", text.length, \" characters\", 0.008 * text.split(\" \").filter(element => {\n          return element.length !== 0;\n        }).length, \" minutes read\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"main\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"complete\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"markdownheader\",\n              children: \"Markdown Text\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 5\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              name: \"textarea\",\n              label: \"markdown\",\n              id: \"markdown\",\n              placeholder: \"Type some text here\",\n              value: text,\n              onChange: handleTextChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 6\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"container2\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"previewheader\",\n              children: \"Preview\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"output1\",\n              dangerouslySetInnerHTML: {\n                __html: md.render(text)\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 8\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 9\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 5\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 6\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 9\n    }, this)\n  }, void 0, false);\n}\n\n_s(TextForm, \"trD3S5aZ2M+ReDEl76oq38Q8thI=\");\n\n_c2 = TextForm;\nexport default TextForm;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Info\");\n$RefreshReg$(_c2, \"TextForm\");","map":{"version":3,"names":["React","useState","useEffect","Remarkable","db","collection","addDoc","getDocs","updateDoc","doc","styled","Info","div","initialState","md","TextForm","props","handleLogout","text","setText","documents","setDocuments","userCollectionRef","handleTextChange","e","target","value","formData","localStorage","getItem","JSON","parse","setItem","stringify","getText","data","docs","map","id","saveToDb","file","updateDocument","userDoc","newFields","split","filter","element","length","__html","render"],"sources":["/home/komal/GSOC_Markdown_Editor/src/Components/TextForm.js"],"sourcesContent":["  import React from 'react'\n  import  {useState,useEffect} from 'react';\n  import { Remarkable } from 'remarkable';\n  import {db} from './fire';\n  import {collection, addDoc, getDocs, updateDoc ,doc} from 'firebase/firestore';\n  import styled from 'styled-components';\n   \n\n\n   \n  \n\n \n  \n  const Info = styled.div`\n  width: 100%;\n  color: black;\n  height: 1.2em;\n  font-weight: 700;\n  padding: 5px;\n  background-color: #fff;\n  text-align: end;\n  color: #a334cc;\n  font-family: roboto;\n  font-size: 15px;\n  margin-top: 60px;\n  margin-bottom: 0px;\n  \n  `\n  const initialState = `\n  # Heading1\n  ## Heading2\n  - list item 1\n  - list item 2\n  - list item 3\n  \n  \n  [Visit GLUG Official website](https://nitdgplug.org/)\n\n  ### block of code\n  \\`\\`\\`\n  let x= 1;\n  let y= 2;\n  \\`\\`\\`\n  ***\n  *Welcome*\n  ![GLUG](https://img1.pnghut.com/t/25/23/10/AyxZpuifSG/penguin-ducks-geese-and-swans-linux-logical-volume-manager-flightless-bird.jpg)\n  \n  `;\n\n\n  const md= new Remarkable ()\n  function TextForm(props) {\n    const{handleLogout}=props;\n    \n    const [text, setText] = useState(initialState);\n    const [documents, setDocuments] = useState(\"\");\n    const userCollectionRef = collection(db, \"documents\");\n    const handleTextChange = (e)=>{\n      setText(e.target.value)\n    }\n  \n    useEffect(()=>{\n     const formData = localStorage.getItem(\"my-form-value1\");\n     if (formData)\n     {setText(JSON.parse(formData));}\n    },[]);\n    useEffect(() => {\n      \n      localStorage.setItem(\"my-form-value1\",JSON.stringify(text));\n    });\n    \n    useEffect(()=>{\n      const getText = async () => {\n        const data = await getDocs(userCollectionRef);\n        setDocuments(data.docs.map((doc)=>({...doc.data(), id:doc.id})));\n      };\n      getText();\n     }, []);\n   \n     const saveToDb = async ()=>{\n      await addDoc(userCollectionRef, {file:text});\n    }\n     const updateDocument = async (id)=>{\n      const userDoc = doc(db , \"documents\" , id)\n      const newFields= { value: text}\n      await updateDoc(userDoc, newFields)\n     };\n\n    \n    return (\n      \n        <>\n        <div className='entity'>    \n       \n        {/* <Navbar/> */}\n    <div className='header'>\n      {/* <div><img className='logo' src='./images/text-tool.png'/></div> */}\n      <div className='headertext'>Markdown </div>\n      <button className='button1'onClick={handleLogout}>Logout</button>\n      <button className='save' onClick={saveToDb}>Save </button>\n      <button className='update' onClick={()=>{updateDocument(doc.id)}}>Update</button>\n      </div>   \n    <Info>\n      {text.split(\" \").filter((element)=>{return element.length!==0}).length} words {text.length} characters\n      {0.008*text.split(\" \").filter((element)=>{return element.length!==0}).length} minutes read\n      </Info>\n\n      {/* <div className='save'><button className=\"download\"onClick={downloadFile}><DownloadRoundedIcon/></button>               \n                <input type=\"text\" className=\"filename\" placeholder='untitled'></input></div> */}\n     <div className='main'>           \n    <div className='complete'>\n    <div className='container1'>\n    <div className='markdownheader'>Markdown Text</div>\n     <textarea name='textarea' \n               label='markdown' \n               id='markdown'  \n               placeholder='Type some text here' \n               value={text} \n               onChange={handleTextChange}\n    ></textarea>\n         </div>\n        \n        <div className='container2'>        \n         <div className='previewheader'>Preview</div>\n       <div className=\"output1\" dangerouslySetInnerHTML={{__html:md.render(text)}}></div>\n       \n       </div>\n       </div>\n   \n       \n       </div> \n       </div>\n       </>\n   \n     \n    )\n  }\n  \n  export default TextForm\n  "],"mappings":"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"},"metadata":{},"sourceType":"module"}